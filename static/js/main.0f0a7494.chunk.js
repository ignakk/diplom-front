(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{100:function(e,t,r){},103:function(e,t,r){},104:function(e,t,r){},105:function(e,t,r){"use strict";r.r(t);var a=r(1),c=r.n(a),n=r(25),i=r.n(n),s=r(3),l=r.n(s),o=r(8),u=r(7),d=r(11),j=r(6),b=r(17),h=r.n(b),p=r(16),f=r(28),O=r(46),x=r.n(O).a.create({withCredentials:!0,baseURL:"https://back-silk.vercel.app/api"});x.interceptors.request.use((function(e){return console.log(h.a.get("refreshToken")),e.headers.Authorization="Bearer ".concat(h.a.get("refreshToken")),e}));var v=x,_=function(){function e(){Object(p.a)(this,e)}return Object(f.a)(e,[{key:"showAllArticles",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var r,a=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>1&&void 0!==a[1]?a[1]:"",e.abrupt("return",v.get("/article?page=".concat(t,"&orderBy=").concat((null===r||void 0===r?void 0:r.order)||"","&filterBy=").concat((null===r||void 0===r?void 0:r.filter)||"")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"showArticlestoModerate",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.get("/articles-to-moderate?page="+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publicArticle",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/article-approve",{id:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"declineArticle",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/decline-article",{id:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/create",{title:t,text:r,avatar:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"showArticleById",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.get("/article/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/delete",{articleId:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"change",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r,a,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/change/".concat(t),{title:r,text:a,avatar:c}));case 1:case"end":return e.stop()}}),e)})));return function(t,r,a,c){return e.apply(this,arguments)}}()},{key:"getInfoBeforeChange",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.get("/change/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"authorization",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/authorization",{email:t,password:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"registration",value:function(){var e=Object(o.a)(l.a.mark((function e(t,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.post("/registration",{email:t,password:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",v.get("/refresh"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),m=new _,g=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e"],w=function(){var e=function(){for(var e="#",t=0;t<6;t++){var r=Math.floor(14*Math.random());e+=g[r]}return e},t=e(),r=e();return"linear-gradient(50deg, ".concat(t,", ").concat(r,")")},N=function(e){return{type:"SET_AUTH",payload:e}},C=function(e){return{type:"SET_AUTH_ERROR",payload:e}},y=(r(88),r.p+"static/media/spinner.ac4a764b.gif"),k=r(9),A=(r(89),r(0)),E=c.a.memo((function(e){var t=e.isAuth,r=Object(j.c)((function(e){return e.userReducer.isAuth})),a=Object(j.b)(),c=Object(d.f)();return Object(A.jsx)("header",{className:"header",children:Object(A.jsxs)("div",{className:"header__inner",children:[Object(A.jsx)(k.b,{to:"/",children:Object(A.jsx)("div",{className:"header__inner-logo",children:"ignatiqq blog"})}),Object(A.jsxs)("div",{className:"header-wrap",style:{display:"flex",alignItems:"center"},children:[Object(A.jsx)(ie,{children:Object(A.jsx)("div",{className:"header__inner-createarticle",children:Object(A.jsx)(k.b,{to:"/articles-to-moderate",children:Object(A.jsx)(M,{className:"header__inner-btn",children:"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0441\u0442\u043e\u0432"})})})}),!0===t&&Object(A.jsx)("div",{className:"header__inner-createarticle",children:Object(A.jsx)(k.b,{to:"/create",children:Object(A.jsx)(M,{className:"header__inner-btn",children:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f"})})}),Object(A.jsx)("div",{className:"header__inner-createarticle",children:r?Object(A.jsx)(M,{onClick:function(){localStorage.removeItem("token"),c.push("/auth"),a({type:"SET_UN_AUTH"})},className:"header__inner-btn",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(A.jsx)(k.b,{to:"/auth",children:Object(A.jsx)(M,{className:"header__inner-btn",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})})})),R=function(e,t){return function(){var r=Object(o.a)(l.a.mark((function r(a){var c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,m.showAllArticles(e,t);case 2:c=r.sent,a(T(c.data));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},T=function(e){return{type:"SET_ALL_ARTICLES",payload:e}},S=function(e){return{type:"SET_ARTICLE_BY_ID",payload:e}},L=function(e){return{type:"SET_ARTICLE_AFTER_CHANGE",payload:e}},I=function(e){return{type:"DELETE_ARTICLE",payload:e}},z=(r(94),c.a.memo((function(e){var t=e._id,r=e.title,a=e.text,c=e.avatar,n=e.isAuth,i=Object(j.b)(),s=function(e){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e?")&&(i(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(r){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.delete(e);case 2:200===t.sent.status?(alert("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),r(I(e))):alert("\u0423\u043f\u0441 \u0447\u0442\u043e\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),i(R()))};return Object(A.jsxs)("div",{className:"article",children:[Object(A.jsx)(k.b,{to:"/articles/".concat(t),children:Object(A.jsx)("div",{className:"article__avatar",children:c?Object(A.jsx)("img",{src:c,alt:"\u0424\u043e\u043d\u043e\u0432\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}):Object(A.jsx)("div",{className:"article__avatar-noavatar",children:r})})}),Object(A.jsxs)("div",{className:"article__wrapper",children:[Object(A.jsxs)("div",{className:"article__content",children:[Object(A.jsx)(k.b,{to:"/articles/".concat(t),children:Object(A.jsx)("div",{className:"article__content-title",children:r})}),Object(A.jsx)("div",{className:"article__content-text",children:a&&a})]}),Object(A.jsxs)("div",{className:"article__edit",children:[Object(A.jsx)("div",{className:"article__edit-more",children:Object(A.jsx)(k.b,{className:"article__content-link",to:"/articles/".concat(t),children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435..."})}),Object(A.jsx)(ie,{children:!0===n&&Object(A.jsxs)("div",{className:"article__edit-edit",children:[Object(A.jsx)(k.b,{className:"article__edit-change",to:"/change/".concat(t),children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(A.jsx)("button",{onClick:function(){return s(t)},className:"article__edit-delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})})]})]})]})}))),D=r(48),B=r.n(D);r(95);var M=function(e){return Object(A.jsx)("button",{className:B()("button-standart",e.className),onClick:e.onClick,children:e.children})};r(96);var H=function(){return Object(A.jsx)("div",{className:"page-notfound",children:Object(A.jsxs)("div",{className:"page-notfound__content",children:[Object(A.jsx)("div",{className:"page-notfound__content-title",children:Object(A.jsx)("h1",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})}),Object(A.jsx)(k.b,{to:"/",children:Object(A.jsx)(M,{className:"page-notfound__btn",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})})};r.p,r(97);var q=function(){return Object(A.jsx)("footer",{className:"footer",children:Object(A.jsx)("div",{className:"footer__inner",children:Object(A.jsxs)("div",{className:"footer__inner-about",children:[Object(A.jsxs)("div",{className:"footer__inner-about-name",children:[Object(A.jsx)("div",{children:"made by"}),Object(A.jsx)("a",{href:"https://github.com/ignatiqq",target:"_blank",alt:"ignatiqq",children:"ignatiqq"})]}),Object(A.jsx)("div",{className:"footer__inner-about-socials",children:Object(A.jsxs)("div",{className:"footer__inner-about-socials-links",children:[Object(A.jsx)("a",{href:"https://vk.com/leanignit",alt:"vk",children:Object(A.jsx)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M18 0.719971C8.45643 0.719971 0.720032 8.45637 0.720032 18C0.720032 27.5436 8.45643 35.28 18 35.28C27.5436 35.28 35.28 27.5436 35.28 18C35.28 8.45637 27.5436 0.719971 18 0.719971ZM24.6456 20.2158C24.6456 20.2158 26.1738 21.7242 26.55 22.4244C26.5608 22.4388 26.5662 22.4532 26.5698 22.4604C26.7228 22.7178 26.7588 22.9176 26.6832 23.067C26.5572 23.3154 26.1252 23.4378 25.9776 23.4486H23.2776C23.0904 23.4486 22.698 23.4 22.2228 23.0724C21.8574 22.8168 21.4974 22.3974 21.1464 21.9888C20.6226 21.3804 20.169 20.8548 19.7118 20.8548C19.6538 20.8547 19.596 20.8638 19.5408 20.8818C19.1952 20.9934 18.7524 21.4866 18.7524 22.8006C18.7524 23.211 18.4284 23.4468 18.1998 23.4468H16.9632C16.542 23.4468 14.3478 23.2992 12.4038 21.249C10.0242 18.738 7.88223 13.7016 7.86423 13.6548C7.72923 13.329 8.00823 13.1544 8.31243 13.1544H11.0394C11.403 13.1544 11.5218 13.3758 11.6046 13.572C11.7018 13.8006 12.0582 14.7096 12.6432 15.732C13.5918 17.3988 14.1732 18.0756 14.6394 18.0756C14.7268 18.0745 14.8127 18.0523 14.8896 18.0108C15.498 17.6724 15.3846 15.5034 15.3576 15.0534C15.3576 14.9688 15.3558 14.0832 15.0444 13.6584C14.8212 13.3506 14.4414 13.2336 14.211 13.1904C14.3043 13.0617 14.4271 12.9574 14.5692 12.8862C14.9868 12.6774 15.7392 12.6468 16.4862 12.6468H16.902C17.712 12.6576 17.9208 12.7098 18.2142 12.7836C18.8082 12.9258 18.8208 13.3092 18.7686 14.6214C18.7524 14.994 18.7362 15.4152 18.7362 15.912C18.7362 16.02 18.7308 16.1352 18.7308 16.2576C18.7128 16.9254 18.6912 17.6832 19.1628 17.9946C19.2243 18.0331 19.2954 18.0537 19.368 18.054C19.5318 18.054 20.025 18.054 21.3606 15.7626C21.7725 15.025 22.1305 14.2586 22.4316 13.4694C22.4586 13.4226 22.5378 13.2786 22.6314 13.2228C22.7005 13.1876 22.7771 13.1696 22.8546 13.1706H26.0604C26.4096 13.1706 26.649 13.2228 26.694 13.3578C26.7732 13.572 26.6796 14.2254 25.2162 16.2072L24.5628 17.0694C23.2362 18.8082 23.2362 18.8964 24.6456 20.2158V20.2158Z",fill:"white"})})}),Object(A.jsx)("a",{href:"https://github.com/ignatiqq",alt:"github",children:Object(A.jsx)("svg",{width:"36",height:"36",viewBox:"0 0 174 170",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(A.jsx)("path",{d:"M86.9227 0.753303C39.1049 0.733967 0.375 39.4445 0.375 87.2236C0.375 125.006 24.6029 157.123 58.3441 168.918C62.8881 170.059 62.192 166.83 62.192 164.625V149.64C35.9531 152.714 34.8896 135.351 33.1301 132.45C29.5723 126.379 21.1611 124.832 23.6748 121.932C29.6496 118.857 35.7404 122.705 42.798 133.127C47.9027 140.687 57.8607 139.411 62.9074 138.154C64.0096 133.611 66.3686 129.55 69.617 126.398C42.4307 121.526 31.0998 104.935 31.0998 85.2127C31.0998 75.6414 34.2516 66.8435 40.4391 59.7472C36.4945 48.049 40.8064 38.033 41.3865 36.5441C52.6207 35.5387 64.2996 44.5879 65.2084 45.3033C71.5893 43.5824 78.8789 42.6736 87.0387 42.6736C95.2371 42.6736 102.546 43.6211 108.985 45.3613C111.17 43.6984 121.998 35.9254 132.439 36.8728C133 38.3617 137.215 48.1457 133.503 59.6892C139.768 66.8049 142.958 75.6801 142.958 85.2707C142.958 105.032 131.55 121.642 104.286 126.437C106.622 128.733 108.476 131.472 109.741 134.493C111.006 137.514 111.656 140.757 111.653 144.033V165.786C111.808 167.526 111.653 169.247 114.554 169.247C148.798 157.703 173.451 125.354 173.451 87.2429C173.451 39.4445 134.702 0.753303 86.9227 0.753303V0.753303Z",fill:"white"})})})]})})]})})})};r(98);var U=function(){var e=c.a.useState(""),t=Object(u.a)(e,2),r=t[0],a=t[1],n=c.a.useState(""),i=Object(u.a)(n,2),s=i[0],b=i[1],h=c.a.useState(""),p=Object(u.a)(h,2),f=p[0],O=p[1],x=c.a.useState(!1),v=Object(u.a)(x,2),_=v[0],g=v[1],w=Object(j.b)(),N=Object(d.g)().id;c.a.useEffect((function(){var e;w((e=N,function(){var t=Object(o.a)(l.a.mark((function t(r){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m.getInfoBeforeChange(e);case 2:a=t.sent,r(S(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[N]);var C=Object(j.c)((function(e){var t=e.blogReducer;return{title:t.currentArticle.article.title,text:t.currentArticle.article.text,avatar:t.currentArticle.article.avatar}})),y=C.title,E=C.text,R=C.avatar;c.a.useEffect((function(){void 0!==y&&void 0!==E&&(a(y),b(E),O(R))}),[y,E,R]),c.a.useEffect((function(){g(!(!r||!s))}),[r,s,f]);var T=function(e,t,r,a,c){e.preventDefault(),w(function(e,t,r,a){return function(){var c=Object(o.a)(l.a.mark((function c(n){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,m.change(e,t,r,a);case 2:200===c.sent.status?(alert("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430"),n(L({articleId:e,title:t,text:r,avatar:a}))):alert("\u0427\u0442\u043e\u0442\u043e \u043f\u0440\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(t,r,a,c))};return Object(A.jsxs)("form",{className:"article-edit",children:[Object(A.jsx)("div",{className:"aricle-edit__type",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(A.jsx)(k.b,{to:"/",children:Object(A.jsx)(M,{className:"article-edit__btnprev",children:"\u041d\u0430\u0437\u0430\u0434"})}),Object(A.jsxs)("div",{className:"article-edit__changetitle",children:[Object(A.jsx)("div",{className:"article-edit__changetitle-text",children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(A.jsx)("input",{onChange:function(e){return a(e.target.value)},value:r,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"})]}),Object(A.jsxs)("div",{className:"article-edit__changetitle",children:[Object(A.jsx)("div",{className:"article-edit__changetext-text",children:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(A.jsx)("textarea",{onChange:function(e){return b(e.target.value)},className:"article-edit__changetext-input",placeholder:"\u0412\u0430\u0448 \u0442\u0435\u043a\u0441\u0442",value:s})]}),Object(A.jsxs)("div",{className:"article-edit__changetitle",children:[Object(A.jsx)("div",{className:"article-edit__changeavatar-text",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"}),Object(A.jsx)("input",{onChange:function(e){return O(e.target.value)},className:"article-edit__changeavatar-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0443: https://img.ru/F1G23hdhgd",value:f})]}),Object(A.jsx)("div",{className:"article-edit__btns",children:!0===_?Object(A.jsx)(M,{onClick:function(e){return T(e,N,r,s,f)},className:"article-edit__btns-edit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}):Object(A.jsx)("div",{style:{color:"#fff",marginTop:"10px"},children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"})}),Object(A.jsxs)("div",{className:"article-edit__markdown",children:[Object(A.jsx)("div",{className:"article-edit__markdown-prompt",children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430 Markdown:"}),Object(A.jsx)("a",{className:"article-edit__markdown-href",href:"https://www.markdownguide.org/basic-syntax/#line-break-best-practices",alt:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 markdown",target:"_blank",rel:"noreferrer",children:"\u041c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c"})]})]})};r(99);var J=function(){var e=c.a.useState(""),t=Object(u.a)(e,2),r=t[0],a=t[1],n=c.a.useState(""),i=Object(u.a)(n,2),s=i[0],d=i[1],b=c.a.useState(""),h=Object(u.a)(b,2),p=h[0],f=h[1],O=c.a.useState(!1),x=Object(u.a)(O,2),v=x[0],_=x[1],g=Object(j.b)();c.a.useEffect((function(){_(!(!r||!s))}),[r,s,p]);var w=function(e,t,r,a){var c,n,i;e.preventDefault(),g((c=t,n=r,i=a,function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.create(c,n,i);case 2:200===e.sent.status?(alert("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"),window.location.href="/diplom-front"):alert("\u0423\u043f\u0441 \u0447\u0442\u043e\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435\u0442\u0430\u043a");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(A.jsxs)("form",{className:"article-edit",children:[Object(A.jsx)("div",{className:"aricle-edit__type",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(A.jsx)(k.b,{to:"/",children:Object(A.jsx)(M,{className:"article-edit__btnprev",children:"\u041d\u0430\u0437\u0430\u0434"})}),Object(A.jsxs)("div",{className:"article-edit__changetitle",children:[Object(A.jsx)("div",{className:"article-edit__changetitle-text",children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(A.jsx)("input",{onChange:function(e){return a(e.target.value)},value:r,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"})]}),Object(A.jsxs)("div",{className:"article-edit__changetitle",children:[Object(A.jsx)("div",{className:"article-edit__changetext-text",children:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(A.jsx)("textarea",{onChange:function(e){return d(e.target.value)},className:"article-edit__changetext-input",placeholder:"\u0412\u0430\u0448 \u0442\u0435\u043a\u0441\u0442",value:s})]}),Object(A.jsxs)("div",{className:"article-edit__changetitle",children:[Object(A.jsx)("div",{className:"article-edit__changeavatar-text",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"}),Object(A.jsx)("input",{onChange:function(e){return f(e.target.value)},className:"article-edit__changeavatar-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0443: https://img.ru/F1G23hdhgd",value:p})]}),Object(A.jsx)("div",{className:"article-edit__btns",children:!0===v?Object(A.jsx)(M,{onClick:function(e){return w(e,r,s,p)},className:"article-edit__btns-edit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}):Object(A.jsx)("div",{style:{color:"#fff",marginTop:"10px"},children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"})}),Object(A.jsxs)("div",{className:"article-edit__markdown",children:[Object(A.jsx)("div",{className:"article-edit__markdown-prompt",children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430 Markdown:"}),Object(A.jsx)("a",{className:"article-edit__markdown-href",href:"https://www.markdownguide.org/basic-syntax/#line-break-best-practices",alt:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 markdown",target:"_blank",children:"\u041c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c"})]})]})},F=r(110),G=r(57);r(100),r.p;var V=function(){var e=Object(j.b)(),t=Object(d.g)().id;c.a.useEffect((function(){e({type:"SET_ERROR_CLEAR",payload:{}})}),[]),c.a.useEffect((function(){var r;e((r=t,function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.showArticleById(r);case 3:a=e.sent,t(S(a.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"SET_ERROR",payload:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[t]);var r=Object(j.c)((function(e){return{title:e.blogReducer.currentArticle.article.title,text:e.blogReducer.currentArticle.article.text,updatedAt:e.blogReducer.currentArticle.article.updatedAt,avatar:e.blogReducer.currentArticle.article.avatar,article:e.blogReducer.currentArticle.article,isLoaded:e.blogReducer.currentArticle.isLoaded,viewsCount:e.blogReducer.currentArticle.article.viewsCount,error:e.errorReducer.error}})),a=r.title,n=r.text,i=r.updatedAt,s=r.avatar,u=r.article,b=r.isLoaded,h=r.error,p=r.viewsCount;return Object(A.jsx)("div",{className:"blog-fulltext",children:u&&!1===b&&Object.values(h).length<1?Object(A.jsx)("div",{className:"blog-fulltext__loading",children:Object(A.jsx)("img",{src:y})}):Object.values(h).length>0?Object(A.jsx)(H,{}):Object(A.jsxs)("div",{className:"blog-fulltext__wrapper",children:[s?Object(A.jsx)("div",{style:{background:"linear-gradient(rgba(0, 0, 0, .6), rgba(0, 0, 0, 0.5)), no-repeat center url(".concat(s,")"),backgroundSize:"cover"},className:"blog-fulltext__main",children:Object(A.jsx)("h1",{className:"blog-fulltext__main-title",children:a})}):Object(A.jsx)("div",{style:{background:w()},className:"blog-fulltext__main",children:Object(A.jsx)("h1",{className:"blog-fulltext__main-title",children:a})}),Object(A.jsxs)("div",{className:"blog-fulltext__options",children:[Object(A.jsxs)("div",{className:"blog-fulltext__options-createddate",children:["\u0421\u043e\u0437\u0434\u0430\u043d\u043e: ",i&&Object(F.a)(new Date(i),"MM/dd/yyyy")]}),Object(A.jsxs)("div",{className:"blog-fulltext__options-viewcounter",children:[Object(A.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 37 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(A.jsx)("g",{clipPath:"url(#clip0)",children:Object(A.jsx)("path",{d:"M23.506 18.4978C23.506 21.3577 21.0861 23.6761 18.1009 23.6761C15.1158 23.6761 12.6959 21.3577 12.6959 18.4978C12.6959 15.6378 15.1158 13.3194 18.1009 13.3194C21.0861 13.3194 23.506 15.6378 23.506 18.4978ZM18.1107 7.71564C15.02 7.72935 11.8163 8.48178 8.7836 9.92235C6.53186 11.036 4.33742 12.6072 2.43254 14.5466C1.49696 15.5365 0.303648 16.97 0.110718 18.4994C0.133518 19.8243 1.55462 21.4595 2.43254 22.4523C4.21883 24.3155 6.35612 25.8429 8.7836 27.0777C11.6117 28.4502 14.7421 29.2405 18.1107 29.2844C21.2044 29.2705 24.4074 28.5094 27.4367 27.0777C29.6884 25.964 31.884 24.3917 33.7889 22.4523C34.7244 21.4624 35.9178 20.0289 36.1107 18.4994C36.0879 17.1746 34.6668 15.5393 33.7889 14.5465C32.0026 12.6833 29.8642 11.1571 27.4367 9.92229C24.61 8.55081 21.472 7.76601 18.1107 7.71564ZM18.1084 10.3931C22.792 10.3931 26.5887 14.0229 26.5887 18.5006C26.5887 22.9783 22.792 26.6081 18.1084 26.6081C13.4249 26.6081 9.62819 22.9783 9.62819 18.5006C9.62819 14.0229 13.4249 10.3931 18.1084 10.3931Z",fill:"white"})}),Object(A.jsx)("defs",{children:Object(A.jsx)("clipPath",{id:"clip0",children:Object(A.jsx)("rect",{width:"36",height:"36",fill:"white",transform:"translate(0.110718 0.5)"})})})]}),Object(A.jsx)("div",{className:"blog-fulltext__options-text",children:p})]})]}),Object(A.jsx)("div",{className:"blog-fulltext__content",children:Object(A.jsx)("div",{className:"blog-fulltext__content-text",children:n&&Object(A.jsx)(G.a,{className:"blog-fulltext__content-markdown",children:n})})})]})})},Z=r(4),P=r(2),Y=r(53),X=r.n(Y),W=(r(103),r(54)),K=r.n(W),Q=function(e){var t=e.onChange,r=e.data;return Object(A.jsx)("select",{className:K.a.select,onChange:t,children:r.map((function(e){return Object(A.jsx)("option",{value:e.value,children:e.label},e.id)}))})},$=r(55),ee=r.n($),te=function(e){var t=e.onChange,r=e.value,c=void 0===r?null:r,n=(e.className,e.label),i=void 0===n?null:n,s=e.controlled,l=Object(a.useState)(c),o=Object(u.a)(l,2),d=o[0],j=o[1];return Object(A.jsxs)(A.Fragment,{children:[i&&Object(A.jsx)("label",{htmlFor:"search-input",children:i}),Object(A.jsx)("input",{id:"search-input",className:ee.a.input,value:s?c:d,onChange:function(e){var r=e.target.value;"null"!==typeof c?t(r):(t(r),j(r))},type:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u0442\u0430\u0442\u044c\u044f\u043c"})]})},re="filters";var ae=function(e){var t=e.isAuth,r=Object(a.useState)(JSON.parse(localStorage.getItem(re))||{order:"asc",filter:""}),n=Object(u.a)(r,2),i=n[0],s=n[1],l=Object(a.useRef)(X()((function(e,t){o(R(e,t))}),300)).current,o=Object(j.b)(),d=Object(j.c)((function(e){var t=e.blogReducer;return{articles:t.articles,isLoaded:t.isLoaded,page:t.page}})),b=d.articles,h=d.isLoaded,p=d.page;c.a.useEffect((function(){o({type:"CLEAR_ARTICLE_BY_ID",payload:{}})}),[]),c.a.useEffect((function(){window.scrollTo({top:0,behavior:"smooth"})}),[p]),c.a.useEffect((function(){o({type:"SET_ARTICLE_LOADED",payload:!1}),l(p,i)}),[i,p]);var f=function(e){o({type:"PAGINATION",payload:e})},O=function(e,t){localStorage.setItem(re,JSON.stringify(i)),s((function(r){return Object(P.a)(Object(P.a)({},r),{},Object(Z.a)({},e,t))}))};return Object(A.jsxs)("div",{children:[Object(A.jsxs)("div",{style:{margin:"30px 0px"},children:[Object(A.jsx)("div",{style:{fontSize:"18px",color:"#fff",fontWeight:"bold",marginBottom:"15px"},children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:"}),Object(A.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(A.jsx)(Q,{onChange:function(e){return O("order",e.target.value)},data:[{id:1,label:"\u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435",value:"desc"},{id:2,label:"\u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",value:"asc"}]}),Object(A.jsx)(te,{controlled:!0,value:i.filter,onChange:function(e){return O("filter",e)}})]})]}),Object(A.jsx)("div",{className:"blog-wrapper",children:b.length>0&&h?b.map((function(e){return Object(A.jsx)(z,Object(P.a)({isAuth:t},e),e._id)})):0===b.length&&h?Object(A.jsxs)("div",{className:"blog-wrapper__loading",children:[Object(A.jsx)("h1",{style:{color:"#fff"},children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"}),!0===t&&Object(A.jsx)(k.b,{to:"/create",children:Object(A.jsx)(M,{className:"blog-wrapper__loading-btn",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"})})]}):Object(A.jsx)("div",{className:"blog-wrapper__loading",children:Object(A.jsx)("img",{src:y})})}),Object(A.jsx)("div",{style:{marginBottom:"150px"},className:"blog-pagination",children:Object(A.jsxs)("div",{className:"blog-wrapper__loadmorebtn",children:[1===p?Object(A.jsx)("div",{}):Object(A.jsx)(M,{onClick:function(){return f()},className:"blog-wrapper__loadmorebtn-btn",children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),b.length<8?null:Object(A.jsx)(M,{onClick:function(){return f("plus")},className:"blog-wrapper__loadmorebtn-btn",children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})})]})};r(44);var ce=function(){var e=c.a.useState({email:"",password:""}),t=Object(u.a)(e,2),r=t[0],a=t[1],n=c.a.useState(""),i=Object(u.a)(n,2),s=i[0],d=i[1],b=c.a.useState(""),p=Object(u.a)(b,2),f=p[0],O=p[1],x=Object(j.b)(),v=Object(j.c)((function(e){return{userReducer:e.userReducer}})).userReducer,_=function(e,t,r){e.preventDefault(),t.length<6?a((function(e){return Object(P.a)(Object(P.a)({},e),{},{email:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"})})):r.length<6?a((function(e){return Object(P.a)(Object(P.a)({},e),{},{password:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})})):x(function(e,t){return function(){var r=Object(o.a)(l.a.mark((function r(a){var c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.authorization(e,t);case 3:if(200!==(c=r.sent).status){r.next=12;break}a(N()),a(C(null)),console.log({res:c}),h.a.set("refreshToken",c.data.refreshToken),window.location.href="/diplom-front",r.next=13;break;case 12:throw new Error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438");case 13:r.next=18;break;case 15:r.prev=15,r.t0=r.catch(0),a(C(r.t0.message));case 18:case"end":return r.stop()}}),r,null,[[0,15]])})));return function(e){return r.apply(this,arguments)}}()}(t,r))};return Object(A.jsx)("div",{className:"authorization",children:Object(A.jsxs)("form",{className:"authorization__wrapper",children:[Object(A.jsx)("div",{className:"authorization__wrapper-text",children:Object(A.jsx)("h1",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})}),Object(A.jsxs)("div",{className:"authorization__wrapper-inputs",children:[Object(A.jsx)("input",{onChange:function(e){return d(e.target.value)},value:s,type:"email",placeholder:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),r.email&&Object(A.jsx)("div",{style:{textAlign:"center",color:"red",margin:"5px 0"},children:r.email}),Object(A.jsx)("input",{onChange:function(e){return O(e.target.value)},value:f,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.password&&Object(A.jsx)("div",{style:{textAlign:"center",color:"red",margin:"5px 0"},children:r.password})]}),Object(A.jsx)("div",{className:"authorization__wrapper-btnwrapper",children:Object(A.jsx)(M,{onClick:function(e){return _(e,s,f)},className:"authorization__wrapper-btnwrapper-btn",children:"\u0412\u043e\u0439\u0442\u0438"})}),v.error&&Object(A.jsx)("div",{style:{textAlign:"center",color:"red",margin:"10px 0"},children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0432\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(A.jsx)(k.b,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"10px"},to:"/register",children:Object(A.jsx)(M,{className:"header__inner-btn",children:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"})})]})})};var ne=function(){var e=c.a.useState({email:"",password:""}),t=Object(u.a)(e,2),r=t[0],a=t[1],n=c.a.useState(""),i=Object(u.a)(n,2),s=i[0],d=i[1],b=c.a.useState(""),p=Object(u.a)(b,2),f=p[0],O=p[1],x=Object(j.b)(),v=Object(j.c)((function(e){return{userReducer:e.userReducer}})).userReducer,_=function(e,t,r){e.preventDefault(),t.length<6?a((function(e){return Object(P.a)(Object(P.a)({},e),{},{email:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"})})):r.length<6?a((function(e){return Object(P.a)(Object(P.a)({},e),{},{password:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})})):x(function(e,t){return function(){var r=Object(o.a)(l.a.mark((function r(a){var c;return l.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,m.registration(e,t);case 3:if(200!==(c=r.sent).status){r.next=11;break}a(N()),a(C(null)),h.a.set("refreshToken",c.data.refreshToken),window.location.href="/diplom-front/auth",r.next=12;break;case 11:throw new Error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438");case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),a(C(r.t0.message));case 17:case"end":return r.stop()}}),r,null,[[0,14]])})));return function(e){return r.apply(this,arguments)}}()}(t,r))};return Object(A.jsx)("div",{className:"authorization",children:Object(A.jsxs)("form",{className:"authorization__wrapper",children:[Object(A.jsx)("div",{className:"authorization__wrapper-text",children:Object(A.jsx)("h1",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(A.jsxs)("div",{className:"authorization__wrapper-inputs",children:[Object(A.jsx)("input",{onChange:function(e){return d(e.target.value)},value:s,type:"email",placeholder:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),r.email&&Object(A.jsx)("div",{style:{textAlign:"center",color:"red",margin:"5px 0"},children:r.email}),Object(A.jsx)("input",{onChange:function(e){return O(e.target.value)},value:f,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),r.password&&Object(A.jsx)("div",{style:{textAlign:"center",color:"red",margin:"5px 0"},children:r.password})]}),Object(A.jsx)("div",{className:"authorization__wrapper-btnwrapper",children:Object(A.jsx)(M,{onClick:function(e){return _(e,s,f)},className:"authorization__wrapper-btnwrapper-btn",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),v.error&&Object(A.jsx)("div",{style:{textAlign:"center",color:"red",margin:"10px 0"},children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(A.jsx)(k.b,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"10px"},to:"/auth",children:Object(A.jsx)(M,{className:"header__inner-btn",children:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"})})]})})},ie=function(e){var t=e.children,r=e.fallback,a=void 0===r?null:r,c=Object(j.c)((function(e){return e.userReducer.isAdmin})),n=Object(j.c)((function(e){return e.userReducer.isAuth}));return c&&n?t:a||null};function se(){var e=Object(a.useState)(1),t=Object(u.a)(e,2),r=t[0],c=t[1],n=Object(a.useState)(null),i=Object(u.a)(n,2),s=i[0],j=i[1],b=Object(a.useState)(null),h=Object(u.a)(b,2),p=h[0],f=h[1],O=Object(a.useState)(!0),x=Object(u.a)(O,2),v=x[0],_=x[1],g=Object(d.f)();Object(a.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,m.showArticlestoModerate(r);case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f("\u0423\u043f\u0441 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043f\u043e\u0441\u0442\u043e\u0432");case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}),[r]);var w=Object(a.useState)(!1),N=Object(u.a)(w,2),C=N[0],k=N[1],E=Object(a.useState)(null),R=Object(u.a)(E,2),T=R[0],S=R[1],L=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,m.publicArticle(t);case 4:200===e.sent.status&&g.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u0442\u044c\u0438");case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,k(!0),e.next=4,m.declineArticle(t);case 4:200===e.sent.status&&g.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),S("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u0442\u044c\u0438");case 11:return e.prev=11,k(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(A.jsx)(ie,{fallback:Object(A.jsx)("div",{style:{fontSize:"30px",color:"white",textAlign:"center",marginTop:"100px"},children:"\u0423\u043f\u0441, \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),children:Object(A.jsxs)("div",{children:[C,T,Object(A.jsx)("div",{className:"blog-wrapper",children:s&&s.length>0&&!v&&!p?s.map((function(e){return Object(A.jsxs)("div",{className:"article",children:[Object(A.jsx)("div",{className:"article__avatar",children:e.avatar?Object(A.jsx)("img",{src:e.avatar,alt:"\u0424\u043e\u043d\u043e\u0432\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}):Object(A.jsx)("div",{className:"article__avatar-noavatar",children:e.title})}),Object(A.jsxs)("div",{className:"article__wrapper",children:[Object(A.jsxs)("div",{className:"article__content",children:[Object(A.jsx)("div",{className:"article__content-title",children:e.title}),Object(A.jsx)("div",{className:"article__content-text",children:e.text&&e.text})]}),Object(A.jsxs)("div",{className:"article__edit",children:[Object(A.jsx)("div",{className:"article__edit-more",children:Object(A.jsx)("div",{onClick:function(){return L(e._id)},className:"article__content-link",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})}),Object(A.jsx)("div",{className:"article__edit-more",children:Object(A.jsx)("div",{onClick:function(){return I(e._id)},className:"article__content-link",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})]})})):s&&0===s.length&&!v?Object(A.jsx)("div",{className:"blog-wrapper__loading",children:Object(A.jsx)("h1",{style:{color:"#fff"},children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"})}):Object(A.jsx)("div",{className:"blog-wrapper__loading",children:Object(A.jsx)("img",{src:y})})}),Object(A.jsx)("div",{style:{marginBottom:"150px"},className:"blog-pagination",children:Object(A.jsxs)("div",{className:"blog-wrapper__loadmorebtn",children:[1===r?Object(A.jsx)("div",{}):Object(A.jsx)(M,{onClick:function(){return c((function(e){return e-1}))},className:"blog-wrapper__loadmorebtn-btn",children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),s&&s.length<8?null:Object(A.jsx)(M,{onClick:function(){return c((function(e){return e+1}))},className:"blog-wrapper__loadmorebtn-btn",children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})})]})})}var le=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return{isAuth:e.userReducer.isAuth}})).isAuth;return c.a.useEffect((function(){h.a.get("refreshToken")&&e(function(){var e=Object(o.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,m.refresh();case 3:200===(r=e.sent).status?(t(N(r.data.user.isAdmin)),h.a.set("refreshToken",r.data.refreshToken)):alert(r.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),h.a.remove("refreshToken"),localStorage.removeItem("token");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(A.jsx)("div",{className:"blog",children:Object(A.jsxs)("div",{className:"container",children:[Object(A.jsx)(E,{isAuth:t}),Object(A.jsxs)(d.c,{children:[Object(A.jsx)(d.a,{exact:!0,path:"/",children:Object(A.jsx)(ae,{isAuth:t})}),Object(A.jsx)(d.a,{exact:!0,path:"/change/:id",children:!0===t?Object(A.jsx)(U,{}):Object(A.jsx)(H,{})}),Object(A.jsx)(d.a,{exact:!0,path:"/create",children:!0===t?Object(A.jsx)(J,{}):Object(A.jsx)(H,{})}),Object(A.jsx)(d.a,{exact:!0,path:"/articles/:id",children:Object(A.jsx)(V,{})}),Object(A.jsx)(d.a,{exact:!0,path:"/auth",children:Object(A.jsx)(ce,{})}),Object(A.jsx)(d.a,{exact:!0,path:"/register",children:Object(A.jsx)(ne,{})}),Object(A.jsx)(d.a,{exact:!0,path:"/articles-to-moderate",children:Object(A.jsx)(se,{})}),Object(A.jsx)(d.a,{component:H})]}),Object(A.jsx)(q,{})]})})},oe=r(20),ue=r(56),de=r(10),je={articles:{},page:1,currentArticle:{article:{},isLoaded:!1},isLoaded:!1},be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_ARTICLES":return Object(P.a)(Object(P.a)({},e),{},{articles:t.payload,isLoaded:!0});case"SET_ARTICLE_LOADED":return Object(P.a)(Object(P.a)({},e),{},{isLoaded:t.payload});case"SET_ARTICLE_BY_ID":var r={article:t.payload,isLoaded:!0};return Object(P.a)(Object(P.a)({},e),{},{currentArticle:r,isLoaded:!1});case"CLEAR_ARTICLE_BY_ID":case"SET_ARTICLE_AFTER_CHANGE":return Object(P.a)(Object(P.a)({},e),{},{currentArticle:{article:t.payload,isLoaded:!1}});case"DELETE_ARTICLE":var a=e.articles,c=JSON.parse(JSON.stringify(a)),n=c.filter((function(e){return e._id!==t.payload}));return Object(P.a)(Object(P.a)({},e),{},{articles:n});case"CREATE_ARTICLE":return Object(P.a)(Object(P.a)({},e),{},{articles:[].concat(Object(de.a)(e.articles),[t.payload.blog])});case"PAGINATION":return Object(P.a)(Object(P.a)({},e),{},{page:"plus"===t.payload?e.page+1:"plus"!==t.payload&&1!==e.page?e.page-1:1,isLoaded:!1});default:return e}},he={isAuth:!1,isAdmin:!1,error:null},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return Object(P.a)(Object(P.a)({},e),{},{isAdmin:t.payload,isAuth:!0});case"SET_UN_AUTH":return Object(P.a)(Object(P.a)({},e),{},{isAuth:!1,isAdmin:!1,erorr:null});case"SET_AUTH_ERROR":return Object(P.a)(Object(P.a)({},e),{},{error:t.payload});default:return e}},fe={error:{}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":case"SET_ERROR_CLEAR":return Object(P.a)(Object(P.a)({},e),{},{error:t.payload});default:return e}},xe=Object(oe.b)({blogReducer:be,userReducer:pe,errorReducer:Oe}),ve=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||oe.c,_e=Object(oe.d)(xe,ve(Object(oe.a)(ue.a)));r(104);i.a.render(Object(A.jsx)(j.a,{store:_e,children:Object(A.jsx)(k.a,{basename:"diplom-front",children:Object(A.jsx)(le,{})})}),document.getElementById("root"))},44:function(e,t,r){},54:function(e,t,r){e.exports={select:"filter_select__1bJVD"}},55:function(e,t,r){e.exports={input:"searchbar_input__3sD32"}},88:function(e,t,r){},89:function(e,t,r){},94:function(e,t,r){},95:function(e,t,r){},96:function(e,t,r){},97:function(e,t,r){},98:function(e,t,r){},99:function(e,t,r){}},[[105,1,2]]]);
//# sourceMappingURL=main.0f0a7494.chunk.js.map