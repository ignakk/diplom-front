(this["webpackJsonpreact-blog"]=this["webpackJsonpreact-blog"]||[]).push([[0],{100:function(e,t,a){},103:function(e,t,a){},104:function(e,t,a){},105:function(e,t,a){"use strict";a.r(t);var r=a(1),c=a.n(r),n=a(24),i=a.n(n),s=a(3),l=a.n(s),o=a(8),u=a(7),d=a(11),j=a(6),b=a(16),h=a(27),p=a(45),f=a.n(p),O=a(46),x=a.n(O),v=f.a.create({withCredentials:!0,baseURL:"https://back-silk.vercel.app/api"});v.interceptors.request.use((function(e){return e.headers.Authorization="Bearer ".concat(x.a.get("refreshToken")),e}));var _=v,m=function(){function e(){Object(b.a)(this,e)}return Object(h.a)(e,[{key:"showAllArticles",value:function(){var e=Object(o.a)(l.a.mark((function e(t){var a,r=arguments;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=r.length>1&&void 0!==r[1]?r[1]:"",e.abrupt("return",_.get("/article?page=".concat(t,"&orderBy=").concat((null===a||void 0===a?void 0:a.order)||"","&filterBy=").concat((null===a||void 0===a?void 0:a.filter)||"")));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"showArticlestoModerate",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.get("/articles-to-moderate?page="+t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"publicArticle",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/article-approve",{id:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"declineArticle",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/decline-article",{id:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"create",value:function(){var e=Object(o.a)(l.a.mark((function e(t,a,r){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/create",{title:t,text:a,avatar:r}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r){return e.apply(this,arguments)}}()},{key:"showArticleById",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.get("/article/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/delete",{articleId:t}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"change",value:function(){var e=Object(o.a)(l.a.mark((function e(t,a,r,c){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/change/".concat(t),{title:a,text:r,avatar:c}));case 1:case"end":return e.stop()}}),e)})));return function(t,a,r,c){return e.apply(this,arguments)}}()},{key:"getInfoBeforeChange",value:function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.get("/change/".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"authorization",value:function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/authorization",{email:t,password:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"registration",value:function(){var e=Object(o.a)(l.a.mark((function e(t,a){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.post("/registration",{email:t,password:a}));case 1:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},{key:"refresh",value:function(){var e=Object(o.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",_.get("/refresh"));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()}]),e}(),g=new m,w=function(e){return e.split("/")[4]},N=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e"],C=function(){var e=function(){for(var e="#",t=0;t<6;t++){var a=Math.floor(14*Math.random());e+=N[a]}return e},t=e(),a=e();return"linear-gradient(50deg, ".concat(t,", ").concat(a,")")},y=function(e){return{type:"SET_AUTH",payload:e}},k=function(e){return{type:"SET_AUTH_ERROR",payload:e}},A=(a(88),a.p+"static/media/spinner.ac4a764b.gif"),E=a(9),R=(a(89),a(0)),S=c.a.memo((function(e){var t=e.isAuth,a=Object(j.c)((function(e){return e.userReducer.isAuth})),r=Object(j.b)(),c=Object(d.f)();return Object(R.jsx)("header",{className:"header",children:Object(R.jsxs)("div",{className:"header__inner",children:[Object(R.jsx)(E.b,{to:"/",children:Object(R.jsx)("div",{className:"header__inner-logo",children:"ignatiqq blog"})}),Object(R.jsxs)("div",{className:"header-wrap",style:{display:"flex",alignItems:"center"},children:[Object(R.jsx)(le,{children:Object(R.jsx)("div",{className:"header__inner-createarticle",children:Object(R.jsx)(E.b,{to:"/articles-to-moderate",children:Object(R.jsx)(q,{className:"header__inner-btn",children:"\u041c\u043e\u0434\u0435\u0440\u0430\u0446\u0438\u044f \u043f\u043e\u0441\u0442\u043e\u0432"})})})}),!0===t&&Object(R.jsx)("div",{className:"header__inner-createarticle",children:Object(R.jsx)(E.b,{to:"/create",children:Object(R.jsx)(q,{className:"header__inner-btn",children:"\u041d\u043e\u0432\u0430\u044f \u0441\u0442\u0430\u0442\u044c\u044f"})})}),Object(R.jsx)("div",{className:"header__inner-createarticle",children:a?Object(R.jsx)(q,{onClick:function(){localStorage.removeItem("token"),c.push("/auth"),r({type:"SET_UN_AUTH"})},className:"header__inner-btn",children:"\u0412\u044b\u0439\u0442\u0438"}):Object(R.jsx)(E.b,{to:"/auth",children:Object(R.jsx)(q,{className:"header__inner-btn",children:"\u0412\u043e\u0439\u0442\u0438"})})})]})]})})})),T=function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,g.showAllArticles(e,t);case 2:c=a.sent,r(L(c.data));case 4:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()},L=function(e){return{type:"SET_ALL_ARTICLES",payload:e}},I=function(e){return{type:"SET_ARTICLE_BY_ID",payload:e}},z=function(e){return{type:"SET_ARTICLE_AFTER_CHANGE",payload:e}},D=function(e){return{type:"DELETE_ARTICLE",payload:e}},B=(a(94),c.a.memo((function(e){var t=e._id,a=e.title,r=e.text,c=e.avatar,n=e.isAuth,i=Object(j.b)(),s=function(e){window.confirm("\u0412\u044b \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0442\u0435\u043b\u044c\u043d\u043e \u0445\u043e\u0442\u0438\u0442\u0435 \u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e?")&&(i(function(e){return function(){var t=Object(o.a)(l.a.mark((function t(a){return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.delete(e);case 2:200===t.sent.status?(alert("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0443\u0434\u0430\u043b\u0435\u043d\u0430"),a(D(e))):alert("\u0423\u043f\u0441 \u0447\u0442\u043e\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)),i(T()))};return Object(R.jsxs)("div",{className:"article",children:[Object(R.jsx)(E.b,{to:"/articles/".concat(t),children:Object(R.jsx)("div",{className:"article__avatar",children:c?Object(R.jsx)("img",{src:c,alt:"\u0424\u043e\u043d\u043e\u0432\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}):Object(R.jsx)("div",{className:"article__avatar-noavatar",children:a})})}),Object(R.jsxs)("div",{className:"article__wrapper",children:[Object(R.jsxs)("div",{className:"article__content",children:[Object(R.jsx)(E.b,{to:"/articles/".concat(t),children:Object(R.jsx)("div",{className:"article__content-title",children:a})}),Object(R.jsx)("div",{className:"article__content-text",children:r&&r})]}),Object(R.jsxs)("div",{className:"article__edit",children:[Object(R.jsx)("div",{className:"article__edit-more",children:Object(R.jsx)(E.b,{className:"article__content-link",to:"/articles/".concat(t),children:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u0435\u0435..."})}),!0===n&&Object(R.jsxs)("div",{className:"article__edit-edit",children:[Object(R.jsx)(E.b,{className:"article__edit-change",to:"/change/".concat(t),children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}),Object(R.jsx)("button",{onClick:function(){return s(t)},className:"article__edit-delete",children:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c"})]})]})]})]})}))),M=a(48),H=a.n(M);a(95);var q=function(e){return Object(R.jsx)("button",{className:H()("button-standart",e.className),onClick:e.onClick,children:e.children})};a(96);var U=function(){return Object(R.jsx)("div",{className:"page-notfound",children:Object(R.jsxs)("div",{className:"page-notfound__content",children:[Object(R.jsx)("div",{className:"page-notfound__content-title",children:Object(R.jsx)("h1",{children:"\u0421\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"})}),Object(R.jsx)(E.b,{to:"/",children:Object(R.jsx)(q,{className:"page-notfound__btn",children:"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"})})]})})};a.p,a(97);var J=function(){return Object(R.jsx)("footer",{className:"footer",children:Object(R.jsx)("div",{className:"footer__inner",children:Object(R.jsxs)("div",{className:"footer__inner-about",children:[Object(R.jsxs)("div",{className:"footer__inner-about-name",children:[Object(R.jsx)("div",{children:"made by"}),Object(R.jsx)("a",{href:"https://github.com/ignatiqq",target:"_blank",alt:"ignatiqq",children:"ignatiqq"})]}),Object(R.jsx)("div",{className:"footer__inner-about-socials",children:Object(R.jsxs)("div",{className:"footer__inner-about-socials-links",children:[Object(R.jsx)("a",{href:"https://vk.com/leanignit",alt:"vk",children:Object(R.jsx)("svg",{width:"36",height:"36",viewBox:"0 0 36 36",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(R.jsx)("path",{d:"M18 0.719971C8.45643 0.719971 0.720032 8.45637 0.720032 18C0.720032 27.5436 8.45643 35.28 18 35.28C27.5436 35.28 35.28 27.5436 35.28 18C35.28 8.45637 27.5436 0.719971 18 0.719971ZM24.6456 20.2158C24.6456 20.2158 26.1738 21.7242 26.55 22.4244C26.5608 22.4388 26.5662 22.4532 26.5698 22.4604C26.7228 22.7178 26.7588 22.9176 26.6832 23.067C26.5572 23.3154 26.1252 23.4378 25.9776 23.4486H23.2776C23.0904 23.4486 22.698 23.4 22.2228 23.0724C21.8574 22.8168 21.4974 22.3974 21.1464 21.9888C20.6226 21.3804 20.169 20.8548 19.7118 20.8548C19.6538 20.8547 19.596 20.8638 19.5408 20.8818C19.1952 20.9934 18.7524 21.4866 18.7524 22.8006C18.7524 23.211 18.4284 23.4468 18.1998 23.4468H16.9632C16.542 23.4468 14.3478 23.2992 12.4038 21.249C10.0242 18.738 7.88223 13.7016 7.86423 13.6548C7.72923 13.329 8.00823 13.1544 8.31243 13.1544H11.0394C11.403 13.1544 11.5218 13.3758 11.6046 13.572C11.7018 13.8006 12.0582 14.7096 12.6432 15.732C13.5918 17.3988 14.1732 18.0756 14.6394 18.0756C14.7268 18.0745 14.8127 18.0523 14.8896 18.0108C15.498 17.6724 15.3846 15.5034 15.3576 15.0534C15.3576 14.9688 15.3558 14.0832 15.0444 13.6584C14.8212 13.3506 14.4414 13.2336 14.211 13.1904C14.3043 13.0617 14.4271 12.9574 14.5692 12.8862C14.9868 12.6774 15.7392 12.6468 16.4862 12.6468H16.902C17.712 12.6576 17.9208 12.7098 18.2142 12.7836C18.8082 12.9258 18.8208 13.3092 18.7686 14.6214C18.7524 14.994 18.7362 15.4152 18.7362 15.912C18.7362 16.02 18.7308 16.1352 18.7308 16.2576C18.7128 16.9254 18.6912 17.6832 19.1628 17.9946C19.2243 18.0331 19.2954 18.0537 19.368 18.054C19.5318 18.054 20.025 18.054 21.3606 15.7626C21.7725 15.025 22.1305 14.2586 22.4316 13.4694C22.4586 13.4226 22.5378 13.2786 22.6314 13.2228C22.7005 13.1876 22.7771 13.1696 22.8546 13.1706H26.0604C26.4096 13.1706 26.649 13.2228 26.694 13.3578C26.7732 13.572 26.6796 14.2254 25.2162 16.2072L24.5628 17.0694C23.2362 18.8082 23.2362 18.8964 24.6456 20.2158V20.2158Z",fill:"white"})})}),Object(R.jsx)("a",{href:"https://github.com/ignatiqq",alt:"github",children:Object(R.jsx)("svg",{width:"36",height:"36",viewBox:"0 0 174 170",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:Object(R.jsx)("path",{d:"M86.9227 0.753303C39.1049 0.733967 0.375 39.4445 0.375 87.2236C0.375 125.006 24.6029 157.123 58.3441 168.918C62.8881 170.059 62.192 166.83 62.192 164.625V149.64C35.9531 152.714 34.8896 135.351 33.1301 132.45C29.5723 126.379 21.1611 124.832 23.6748 121.932C29.6496 118.857 35.7404 122.705 42.798 133.127C47.9027 140.687 57.8607 139.411 62.9074 138.154C64.0096 133.611 66.3686 129.55 69.617 126.398C42.4307 121.526 31.0998 104.935 31.0998 85.2127C31.0998 75.6414 34.2516 66.8435 40.4391 59.7472C36.4945 48.049 40.8064 38.033 41.3865 36.5441C52.6207 35.5387 64.2996 44.5879 65.2084 45.3033C71.5893 43.5824 78.8789 42.6736 87.0387 42.6736C95.2371 42.6736 102.546 43.6211 108.985 45.3613C111.17 43.6984 121.998 35.9254 132.439 36.8728C133 38.3617 137.215 48.1457 133.503 59.6892C139.768 66.8049 142.958 75.6801 142.958 85.2707C142.958 105.032 131.55 121.642 104.286 126.437C106.622 128.733 108.476 131.472 109.741 134.493C111.006 137.514 111.656 140.757 111.653 144.033V165.786C111.808 167.526 111.653 169.247 114.554 169.247C148.798 157.703 173.451 125.354 173.451 87.2429C173.451 39.4445 134.702 0.753303 86.9227 0.753303V0.753303Z",fill:"white"})})})]})})]})})})};a(98);var F=function(){var e=c.a.useState(""),t=Object(u.a)(e,2),a=t[0],r=t[1],n=c.a.useState(""),i=Object(u.a)(n,2),s=i[0],d=i[1],b=c.a.useState(""),h=Object(u.a)(b,2),p=h[0],f=h[1],O=c.a.useState(!1),x=Object(u.a)(O,2),v=x[0],_=x[1],m=Object(j.b)(),N=w(window.location.href);c.a.useEffect((function(){var e;m((e=N,function(){var t=Object(o.a)(l.a.mark((function t(a){var r;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.getInfoBeforeChange(e);case 2:r=t.sent,a(I(r.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()))}),[N]);var C=Object(j.c)((function(e){var t=e.blogReducer;return{title:t.currentArticle.article.title,text:t.currentArticle.article.text,avatar:t.currentArticle.article.avatar}})),y=C.title,k=C.text,A=C.avatar;c.a.useEffect((function(){void 0!==y&&void 0!==k&&(r(y),d(k),f(A))}),[y,k,A]),c.a.useEffect((function(){_(!(!a||!s))}),[a,s,p]);var S=function(e,t,a,r,c){e.preventDefault(),m(function(e,t,a,r){return function(){var c=Object(o.a)(l.a.mark((function c(n){return l.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g.change(e,t,a,r);case 2:200===c.sent.status?(alert("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0430"),n(z({articleId:e,title:t,text:a,avatar:r}))):alert("\u0427\u0442\u043e\u0442\u043e \u043f\u0440\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a");case 4:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(t,a,r,c))};return Object(R.jsxs)("form",{className:"article-edit",children:[Object(R.jsx)("div",{className:"aricle-edit__type",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(R.jsx)(E.b,{to:"/",children:Object(R.jsx)(q,{className:"article-edit__btnprev",children:"\u041d\u0430\u0437\u0430\u0434"})}),Object(R.jsxs)("div",{className:"article-edit__changetitle",children:[Object(R.jsx)("div",{className:"article-edit__changetitle-text",children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(R.jsx)("input",{onChange:function(e){return r(e.target.value)},value:a,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"})]}),Object(R.jsxs)("div",{className:"article-edit__changetitle",children:[Object(R.jsx)("div",{className:"article-edit__changetext-text",children:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(R.jsx)("textarea",{onChange:function(e){return d(e.target.value)},className:"article-edit__changetext-input",placeholder:"\u0412\u0430\u0448 \u0442\u0435\u043a\u0441\u0442",value:s})]}),Object(R.jsxs)("div",{className:"article-edit__changetitle",children:[Object(R.jsx)("div",{className:"article-edit__changeavatar-text",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"}),Object(R.jsx)("input",{onChange:function(e){return f(e.target.value)},className:"article-edit__changeavatar-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0443: https://img.ru/F1G23hdhgd",value:p})]}),Object(R.jsx)("div",{className:"article-edit__btns",children:!0===v?Object(R.jsx)(q,{onClick:function(e){return S(e,N,a,s,p)},className:"article-edit__btns-edit",children:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c"}):Object(R.jsx)("div",{style:{color:"#fff",marginTop:"10px"},children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"})}),Object(R.jsxs)("div",{className:"article-edit__markdown",children:[Object(R.jsx)("div",{className:"article-edit__markdown-prompt",children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430 Markdown:"}),Object(R.jsx)("a",{className:"article-edit__markdown-href",href:"https://www.markdownguide.org/basic-syntax/#line-break-best-practices",alt:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 markdown",target:"_blank",children:"\u041c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c"})]})]})};a(99);var G=function(){var e=c.a.useState(""),t=Object(u.a)(e,2),a=t[0],r=t[1],n=c.a.useState(""),i=Object(u.a)(n,2),s=i[0],d=i[1],b=c.a.useState(""),h=Object(u.a)(b,2),p=h[0],f=h[1],O=c.a.useState(!1),x=Object(u.a)(O,2),v=x[0],_=x[1],m=Object(j.b)();c.a.useEffect((function(){_(!(!a||!s))}),[a,s,p]);var w=function(e,t,a,r){var c,n,i;e.preventDefault(),m((c=t,n=a,i=r,function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.create(c,n,i);case 2:200===e.sent.status?(alert("\u0421\u0442\u0430\u0442\u044c\u044f \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0441\u043e\u0437\u0434\u0430\u043d\u0430"),window.location.href="/diplom"):alert("\u0423\u043f\u0441 \u0447\u0442\u043e\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435\u0442\u0430\u043a");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))};return Object(R.jsxs)("form",{className:"article-edit",children:[Object(R.jsx)("div",{className:"aricle-edit__type",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"}),Object(R.jsx)(E.b,{to:"/",children:Object(R.jsx)(q,{className:"article-edit__btnprev",children:"\u041d\u0430\u0437\u0430\u0434"})}),Object(R.jsxs)("div",{className:"article-edit__changetitle",children:[Object(R.jsx)("div",{className:"article-edit__changetitle-text",children:"\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u0437\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"}),Object(R.jsx)("input",{onChange:function(e){return r(e.target.value)},value:a,placeholder:"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a"})]}),Object(R.jsxs)("div",{className:"article-edit__changetitle",children:[Object(R.jsx)("div",{className:"article-edit__changetext-text",children:"\u041d\u0430\u043f\u0438\u0448\u0438\u0442\u0435 \u0442\u0435\u043a\u0441\u0442 \u0441\u0442\u0430\u0442\u044c\u0438"}),Object(R.jsx)("textarea",{onChange:function(e){return d(e.target.value)},className:"article-edit__changetext-input",placeholder:"\u0412\u0430\u0448 \u0442\u0435\u043a\u0441\u0442",value:s})]}),Object(R.jsxs)("div",{className:"article-edit__changetitle",children:[Object(R.jsx)("div",{className:"article-edit__changeavatar-text",children:"\u0421\u0441\u044b\u043b\u043a\u0430 \u0434\u043b\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0438"}),Object(R.jsx)("input",{onChange:function(e){return f(e.target.value)},className:"article-edit__changeavatar-input",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043f\u043e \u0442\u0438\u043f\u0443: https://img.ru/F1G23hdhgd",value:p})]}),Object(R.jsx)("div",{className:"article-edit__btns",children:!0===v?Object(R.jsx)(q,{onClick:function(e){return w(e,a,s,p)},className:"article-edit__btns-edit",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c"}):Object(R.jsx)("div",{style:{color:"#fff",marginTop:"10px"},children:"\u041f\u0440\u043e\u0432\u0435\u0440\u044c\u0442\u0435 \u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u043e\u0441\u0442\u044c \u0432\u0432\u0435\u0434\u0435\u043d\u043d\u044b\u0445 \u0432\u0430\u043c\u0438 \u0434\u0430\u043d\u043d\u044b\u0445"})}),Object(R.jsxs)("div",{className:"article-edit__markdown",children:[Object(R.jsx)("div",{className:"article-edit__markdown-prompt",children:"\u041f\u043e\u0441\u043c\u043e\u0442\u0440\u0435\u0442\u044c \u043f\u0440\u0430\u0432\u0438\u043b\u0430 \u043d\u0430\u043f\u0438\u0441\u0430\u043d\u0438\u044f \u0442\u0435\u043a\u0441\u0442\u0430 Markdown:"}),Object(R.jsx)("a",{className:"article-edit__markdown-href",href:"https://www.markdownguide.org/basic-syntax/#line-break-best-practices",alt:"\u041f\u043e\u0434\u0441\u043a\u0430\u0437\u043a\u0430 markdown",target:"_blank",children:"\u041c\u043e\u0436\u043d\u043e \u0437\u0434\u0435\u0441\u044c"})]})]})},V=a(110),Z=a(57);a(100),a.p;var P=function(){var e=Object(j.b)(),t=Object(d.g)().id;c.a.useEffect((function(){e({type:"SET_ERROR_CLEAR",payload:{}})}),[]),c.a.useEffect((function(){var a;e((a=t,function(){var e=Object(o.a)(l.a.mark((function e(t){var r;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.showArticleById(a);case 3:r=e.sent,t(I(r.data)),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:"SET_ERROR",payload:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}),[t]);var a=Object(j.c)((function(e){return{title:e.blogReducer.currentArticle.article.title,text:e.blogReducer.currentArticle.article.text,updatedAt:e.blogReducer.currentArticle.article.updatedAt,avatar:e.blogReducer.currentArticle.article.avatar,article:e.blogReducer.currentArticle.article,isLoaded:e.blogReducer.currentArticle.isLoaded,viewsCount:e.blogReducer.currentArticle.article.viewsCount,error:e.errorReducer.error}})),r=a.title,n=a.text,i=a.updatedAt,s=a.avatar,u=a.article,b=a.isLoaded,h=a.error,p=a.viewsCount;return Object(R.jsx)("div",{className:"blog-fulltext",children:u&&!1===b&&Object.values(h).length<1?Object(R.jsx)("div",{className:"blog-fulltext__loading",children:Object(R.jsx)("img",{src:A})}):Object.values(h).length>0?Object(R.jsx)(U,{}):Object(R.jsxs)("div",{className:"blog-fulltext__wrapper",children:[s?Object(R.jsx)("div",{style:{background:"linear-gradient(rgba(0, 0, 0, .6), rgba(0, 0, 0, 0.5)), no-repeat center url(".concat(s,")"),backgroundSize:"cover"},className:"blog-fulltext__main",children:Object(R.jsx)("h1",{className:"blog-fulltext__main-title",children:r})}):Object(R.jsx)("div",{style:{background:C()},className:"blog-fulltext__main",children:Object(R.jsx)("h1",{className:"blog-fulltext__main-title",children:r})}),Object(R.jsxs)("div",{className:"blog-fulltext__options",children:[Object(R.jsxs)("div",{className:"blog-fulltext__options-createddate",children:["\u0421\u043e\u0437\u0434\u0430\u043d\u043e: ",i&&Object(V.a)(new Date(i),"MM/dd/yyyy")]}),Object(R.jsxs)("div",{className:"blog-fulltext__options-viewcounter",children:[Object(R.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 37 37",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(R.jsx)("g",{clipPath:"url(#clip0)",children:Object(R.jsx)("path",{d:"M23.506 18.4978C23.506 21.3577 21.0861 23.6761 18.1009 23.6761C15.1158 23.6761 12.6959 21.3577 12.6959 18.4978C12.6959 15.6378 15.1158 13.3194 18.1009 13.3194C21.0861 13.3194 23.506 15.6378 23.506 18.4978ZM18.1107 7.71564C15.02 7.72935 11.8163 8.48178 8.7836 9.92235C6.53186 11.036 4.33742 12.6072 2.43254 14.5466C1.49696 15.5365 0.303648 16.97 0.110718 18.4994C0.133518 19.8243 1.55462 21.4595 2.43254 22.4523C4.21883 24.3155 6.35612 25.8429 8.7836 27.0777C11.6117 28.4502 14.7421 29.2405 18.1107 29.2844C21.2044 29.2705 24.4074 28.5094 27.4367 27.0777C29.6884 25.964 31.884 24.3917 33.7889 22.4523C34.7244 21.4624 35.9178 20.0289 36.1107 18.4994C36.0879 17.1746 34.6668 15.5393 33.7889 14.5465C32.0026 12.6833 29.8642 11.1571 27.4367 9.92229C24.61 8.55081 21.472 7.76601 18.1107 7.71564ZM18.1084 10.3931C22.792 10.3931 26.5887 14.0229 26.5887 18.5006C26.5887 22.9783 22.792 26.6081 18.1084 26.6081C13.4249 26.6081 9.62819 22.9783 9.62819 18.5006C9.62819 14.0229 13.4249 10.3931 18.1084 10.3931Z",fill:"white"})}),Object(R.jsx)("defs",{children:Object(R.jsx)("clipPath",{id:"clip0",children:Object(R.jsx)("rect",{width:"36",height:"36",fill:"white",transform:"translate(0.110718 0.5)"})})})]}),Object(R.jsx)("div",{className:"blog-fulltext__options-text",children:p})]})]}),Object(R.jsx)("div",{className:"blog-fulltext__content",children:Object(R.jsx)("div",{className:"blog-fulltext__content-text",children:n&&Object(R.jsx)(Z.a,{className:"blog-fulltext__content-markdown",children:n})})})]})})},Y=a(4),X=a(2),W=a(53),K=a.n(W),Q=(a(103),a(54)),$=a.n(Q),ee=function(e){var t=e.onChange,a=e.data;return Object(R.jsx)("select",{className:$.a.select,onChange:t,children:a.map((function(e){return Object(R.jsx)("option",{value:e.value,children:e.label},e.id)}))})},te=a(55),ae=a.n(te),re=function(e){var t=e.onChange,a=e.value,c=void 0===a?null:a,n=(e.className,e.label),i=void 0===n?null:n,s=e.controlled,l=Object(r.useState)(c),o=Object(u.a)(l,2),d=o[0],j=o[1];return Object(R.jsxs)(R.Fragment,{children:[i&&Object(R.jsx)("label",{htmlFor:"search-input",children:i}),Object(R.jsx)("input",{id:"search-input",className:ae.a.input,value:s?c:d,onChange:function(e){var a=e.target.value;"null"!==typeof c?t(a):(t(a),j(a))},type:"search",placeholder:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0441\u0442\u0430\u0442\u044c\u044f\u043c"})]})},ce="filters";var ne=function(e){var t=e.isAuth,a=Object(r.useState)(JSON.parse(localStorage.getItem(ce))||{order:"asc",filter:""}),n=Object(u.a)(a,2),i=n[0],s=n[1],l=Object(r.useRef)(K()((function(e,t){o(T(e,t))}),300)).current,o=Object(j.b)(),d=Object(j.c)((function(e){var t=e.blogReducer;return{articles:t.articles,isLoaded:t.isLoaded,page:t.page}})),b=d.articles,h=d.isLoaded,p=d.page;c.a.useEffect((function(){o({type:"CLEAR_ARTICLE_BY_ID",payload:{}})}),[]),c.a.useEffect((function(){window.scrollTo({top:0,behavior:"smooth"})}),[p]),c.a.useEffect((function(){o({type:"SET_ARTICLE_LOADED",payload:!1}),l(p,i)}),[i,p]);var f=function(e){o({type:"PAGINATION",payload:e})},O=function(e,t){localStorage.setItem(ce,JSON.stringify(i)),s((function(a){return Object(X.a)(Object(X.a)({},a),{},Object(Y.a)({},e,t))}))};return Object(R.jsxs)("div",{children:[Object(R.jsxs)("div",{style:{margin:"30px 0px"},children:[Object(R.jsx)("div",{style:{fontSize:"18px",color:"#fff",fontWeight:"bold",marginBottom:"15px"},children:"\u0424\u0438\u043b\u044c\u0442\u0440\u044b:"}),Object(R.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(R.jsx)(ee,{onChange:function(e){return O("order",e.target.value)},data:[{id:1,label:"\u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u0441\u0442\u0430\u0440\u044b\u0435",value:"desc"},{id:2,label:"\u0441\u043d\u0430\u0447\u0430\u043b\u0430 \u043d\u043e\u0432\u044b\u0435",value:"asc"}]}),Object(R.jsx)(re,{controlled:!0,value:i.filter,onChange:function(e){return O("filter",e)}})]})]}),Object(R.jsx)("div",{className:"blog-wrapper",children:b.length>0&&h?b.map((function(e){return Object(R.jsx)(B,Object(X.a)({isAuth:t},e),e._id)})):0===b.length&&h?Object(R.jsxs)("div",{className:"blog-wrapper__loading",children:[Object(R.jsx)("h1",{style:{color:"#fff"},children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"}),!0===t&&Object(R.jsx)(E.b,{to:"/create",children:Object(R.jsx)(q,{className:"blog-wrapper__loading-btn",children:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c \u043d\u043e\u0432\u0443\u044e \u0441\u0442\u0430\u0442\u044c\u044e"})})]}):Object(R.jsx)("div",{className:"blog-wrapper__loading",children:Object(R.jsx)("img",{src:A})})}),Object(R.jsx)("div",{style:{marginBottom:"150px"},className:"blog-pagination",children:Object(R.jsxs)("div",{className:"blog-wrapper__loadmorebtn",children:[1===p?Object(R.jsx)("div",{}):Object(R.jsx)(q,{onClick:function(){return f()},className:"blog-wrapper__loadmorebtn-btn",children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),b.length<8?null:Object(R.jsx)(q,{onClick:function(){return f("plus")},className:"blog-wrapper__loadmorebtn-btn",children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})})]})};a(43);var ie=function(){var e=c.a.useState({email:"",password:""}),t=Object(u.a)(e,2),a=t[0],r=t[1],n=c.a.useState(""),i=Object(u.a)(n,2),s=i[0],d=i[1],b=c.a.useState(""),h=Object(u.a)(b,2),p=h[0],f=h[1],O=Object(j.b)(),x=Object(j.c)((function(e){return{userReducer:e.userReducer}})).userReducer,v=function(e,t,a){e.preventDefault(),t.length<6?r((function(e){return Object(X.a)(Object(X.a)({},e),{},{email:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"})})):a.length<6?r((function(e){return Object(X.a)(Object(X.a)({},e),{},{password:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})})):O(function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.authorization(e,t);case 3:if(200!==(c=a.sent).status){a.next=11;break}r(y()),r(k(null)),localStorage.setItem("token",c.data.accesToken),window.location.href="/",a.next=12;break;case 11:throw new Error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u0438");case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),r(k(a.t0.message));case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))};return Object(R.jsx)("div",{className:"authorization",children:Object(R.jsxs)("form",{className:"authorization__wrapper",children:[Object(R.jsx)("div",{className:"authorization__wrapper-text",children:Object(R.jsx)("h1",{children:"\u0410\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f"})}),Object(R.jsxs)("div",{className:"authorization__wrapper-inputs",children:[Object(R.jsx)("input",{onChange:function(e){return d(e.target.value)},value:s,type:"email",placeholder:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),a.email&&Object(R.jsx)("div",{style:{textAlign:"center",color:"red",margin:"5px 0"},children:a.email}),Object(R.jsx)("input",{onChange:function(e){return f(e.target.value)},value:p,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),a.password&&Object(R.jsx)("div",{style:{textAlign:"center",color:"red",margin:"5px 0"},children:a.password})]}),Object(R.jsx)("div",{className:"authorization__wrapper-btnwrapper",children:Object(R.jsx)(q,{onClick:function(e){return v(e,s,p)},className:"authorization__wrapper-btnwrapper-btn",children:"\u0412\u043e\u0439\u0442\u0438"})}),x.error&&Object(R.jsx)("div",{style:{textAlign:"center",color:"red",margin:"10px 0"},children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0432\u043e\u0439\u0442\u0438 \u0432 \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(R.jsx)(E.b,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"10px"},to:"/register",children:Object(R.jsx)(q,{className:"header__inner-btn",children:"\u0415\u0449\u0435 \u043d\u0435\u0442 \u0430\u043a\u043a\u0430\u0443\u043d\u0442\u0430?"})})]})})};var se=function(){var e=c.a.useState({email:"",password:""}),t=Object(u.a)(e,2),a=t[0],r=t[1],n=c.a.useState(""),i=Object(u.a)(n,2),s=i[0],d=i[1],b=c.a.useState(""),h=Object(u.a)(b,2),p=h[0],f=h[1],O=Object(j.b)(),x=Object(j.c)((function(e){return{userReducer:e.userReducer}})).userReducer,v=function(e,t,a){e.preventDefault(),t.length<6?r((function(e){return Object(X.a)(Object(X.a)({},e),{},{email:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 email"})})):a.length<6?r((function(e){return Object(X.a)(Object(X.a)({},e),{},{password:"\u041f\u0430\u0440\u043e\u043b\u044c \u0434\u043e\u043b\u0436\u0435\u043d \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 6 \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432"})})):O(function(e,t){return function(){var a=Object(o.a)(l.a.mark((function a(r){var c;return l.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,g.registration(e,t);case 3:if(200!==(c=a.sent).status){a.next=11;break}r(y()),r(k(null)),localStorage.setItem("token",c.data.accesToken),window.location.href="/auth",a.next=12;break;case 11:throw new Error("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u0438");case 12:a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),r(k(a.t0.message));case 17:case"end":return a.stop()}}),a,null,[[0,14]])})));return function(e){return a.apply(this,arguments)}}()}(t,a))};return Object(R.jsx)("div",{className:"authorization",children:Object(R.jsxs)("form",{className:"authorization__wrapper",children:[Object(R.jsx)("div",{className:"authorization__wrapper-text",children:Object(R.jsx)("h1",{children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(R.jsxs)("div",{className:"authorization__wrapper-inputs",children:[Object(R.jsx)("input",{onChange:function(e){return d(e.target.value)},value:s,type:"email",placeholder:"\u042d\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u0430\u044f \u043f\u043e\u0447\u0442\u0430"}),a.email&&Object(R.jsx)("div",{style:{textAlign:"center",color:"red",margin:"5px 0"},children:a.email}),Object(R.jsx)("input",{onChange:function(e){return f(e.target.value)},value:p,type:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c"}),a.password&&Object(R.jsx)("div",{style:{textAlign:"center",color:"red",margin:"5px 0"},children:a.password})]}),Object(R.jsx)("div",{className:"authorization__wrapper-btnwrapper",children:Object(R.jsx)(q,{onClick:function(e){return v(e,s,p)},className:"authorization__wrapper-btnwrapper-btn",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})}),x.error&&Object(R.jsx)("div",{style:{textAlign:"center",color:"red",margin:"10px 0"},children:"\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u043f\u043e\u043f\u044b\u0442\u043a\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442"}),Object(R.jsx)(E.b,{style:{display:"flex",justifyContent:"center",width:"100%",marginTop:"10px"},to:"/auth",children:Object(R.jsx)(q,{className:"header__inner-btn",children:"\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?"})})]})})},le=function(e){var t=e.children,a=e.fallback,r=void 0===a?null:a,c=Object(j.c)((function(e){return e.userReducer.isAdmin})),n=Object(j.c)((function(e){return e.userReducer.isAuth}));return c&&n?t:r||null};function oe(){var e=Object(r.useState)(1),t=Object(u.a)(e,2),a=t[0],c=t[1],n=Object(r.useState)(null),i=Object(u.a)(n,2),s=i[0],j=i[1],b=Object(r.useState)(null),h=Object(u.a)(b,2),p=h[0],f=h[1],O=Object(r.useState)(!0),x=Object(u.a)(O,2),v=x[0],_=x[1],m=Object(d.f)();Object(r.useEffect)((function(){Object(o.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,_(!0),e.next=4,g.showArticlestoModerate(a);case 4:t=e.sent,j(t.data),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),f("\u0423\u043f\u0441 \u043f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u043f\u0440\u043e\u0441\u0435 \u043f\u043e\u0441\u0442\u043e\u0432");case 11:return e.prev=11,_(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})))()}),[a]);var w=Object(r.useState)(!1),N=Object(u.a)(w,2),C=N[0],y=N[1],k=Object(r.useState)(null),E=Object(u.a)(k,2),S=E[0],T=E[1],L=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,g.publicArticle(t);case 4:200===e.sent.status&&m.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),T("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u0442\u044c\u0438");case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(o.a)(l.a.mark((function e(t){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,y(!0),e.next=4,g.declineArticle(t);case 4:200===e.sent.status&&m.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),T("\u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u0438 \u0432\u0438\u0434\u0438\u043c\u043e\u0441\u0442\u0438 \u0441\u0442\u0430\u0442\u044c\u0438");case 11:return e.prev=11,y(!1),e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})));return function(t){return e.apply(this,arguments)}}();return Object(R.jsx)(le,{fallback:Object(R.jsx)("div",{style:{fontSize:"30px",color:"white",textAlign:"center",marginTop:"100px"},children:"\u0423\u043f\u0441, \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u0430"}),children:Object(R.jsxs)("div",{children:[C,S,Object(R.jsx)("div",{className:"blog-wrapper",children:s&&s.length>0&&!v&&!p?s.map((function(e){return Object(R.jsxs)("div",{className:"article",children:[Object(R.jsx)("div",{className:"article__avatar",children:e.avatar?Object(R.jsx)("img",{src:e.avatar,alt:"\u0424\u043e\u043d\u043e\u0432\u0430\u044f \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0430"}):Object(R.jsx)("div",{className:"article__avatar-noavatar",children:e.title})}),Object(R.jsxs)("div",{className:"article__wrapper",children:[Object(R.jsxs)("div",{className:"article__content",children:[Object(R.jsx)("div",{className:"article__content-title",children:e.title}),Object(R.jsx)("div",{className:"article__content-text",children:e.text&&e.text})]}),Object(R.jsxs)("div",{className:"article__edit",children:[Object(R.jsx)("div",{className:"article__edit-more",children:Object(R.jsx)("div",{onClick:function(){return L(e._id)},className:"article__content-link",children:"\u041e\u043f\u0443\u0431\u043b\u0438\u043a\u043e\u0432\u0430\u0442\u044c"})}),Object(R.jsx)("div",{className:"article__edit-more",children:Object(R.jsx)("div",{onClick:function(){return I(e._id)},className:"article__content-link",children:"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c"})})]})]})]})})):s&&0===s.length&&!v?Object(R.jsx)("div",{className:"blog-wrapper__loading",children:Object(R.jsx)("h1",{style:{color:"#fff"},children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"})}):Object(R.jsx)("div",{className:"blog-wrapper__loading",children:Object(R.jsx)("img",{src:A})})}),Object(R.jsx)("div",{style:{marginBottom:"150px"},className:"blog-pagination",children:Object(R.jsxs)("div",{className:"blog-wrapper__loadmorebtn",children:[1===a?Object(R.jsx)("div",{}):Object(R.jsx)(q,{onClick:function(){return c((function(e){return e-1}))},className:"blog-wrapper__loadmorebtn-btn",children:"\u041f\u0440\u0435\u0434\u044b\u0434\u0443\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"}),s&&s.length<8?null:Object(R.jsx)(q,{onClick:function(){return c((function(e){return e+1}))},className:"blog-wrapper__loadmorebtn-btn",children:"\u0421\u043b\u0435\u0434\u0443\u044e\u0449\u0430\u044f \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430"})]})})]})})}var ue=function(){var e=Object(j.b)(),t=Object(j.c)((function(e){return{isAuth:e.userReducer.isAuth}})).isAuth;return c.a.useEffect((function(){localStorage.getItem("token")&&e(function(){var e=Object(o.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.refresh();case 2:200===(a=e.sent).status?(t(y(a.data.user.isAdmin)),localStorage.setItem("token",a.data.accesToken)):alert(a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(R.jsx)("div",{className:"blog",children:Object(R.jsxs)("div",{className:"container",children:[Object(R.jsx)(S,{isAuth:t}),Object(R.jsxs)(d.c,{children:[Object(R.jsx)(d.a,{exact:!0,path:"/",children:Object(R.jsx)(ne,{isAuth:t})}),Object(R.jsx)(d.a,{exact:!0,path:"/change/:id",children:!0===t?Object(R.jsx)(F,{}):Object(R.jsx)(U,{})}),Object(R.jsx)(d.a,{exact:!0,path:"/create",children:!0===t?Object(R.jsx)(G,{}):Object(R.jsx)(U,{})}),Object(R.jsx)(d.a,{exact:!0,path:"/articles/:id",children:Object(R.jsx)(P,{})}),Object(R.jsx)(d.a,{exact:!0,path:"/auth",children:Object(R.jsx)(ie,{})}),Object(R.jsx)(d.a,{exact:!0,path:"/register",children:Object(R.jsx)(se,{})}),Object(R.jsx)(d.a,{exact:!0,path:"/articles-to-moderate",children:Object(R.jsx)(oe,{})}),Object(R.jsx)(d.a,{component:U})]}),Object(R.jsx)(J,{})]})})},de=a(19),je=a(56),be=a(10),he={articles:{},page:1,currentArticle:{article:{},isLoaded:!1},isLoaded:!1},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:he,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ALL_ARTICLES":return Object(X.a)(Object(X.a)({},e),{},{articles:t.payload,isLoaded:!0});case"SET_ARTICLE_LOADED":return Object(X.a)(Object(X.a)({},e),{},{isLoaded:t.payload});case"SET_ARTICLE_BY_ID":var a={article:t.payload,isLoaded:!0};return Object(X.a)(Object(X.a)({},e),{},{currentArticle:a,isLoaded:!1});case"CLEAR_ARTICLE_BY_ID":case"SET_ARTICLE_AFTER_CHANGE":return Object(X.a)(Object(X.a)({},e),{},{currentArticle:{article:t.payload,isLoaded:!1}});case"DELETE_ARTICLE":var r=e.articles,c=JSON.parse(JSON.stringify(r)),n=c.filter((function(e){return e._id!==t.payload}));return Object(X.a)(Object(X.a)({},e),{},{articles:n});case"CREATE_ARTICLE":return Object(X.a)(Object(X.a)({},e),{},{articles:[].concat(Object(be.a)(e.articles),[t.payload.blog])});case"PAGINATION":return Object(X.a)(Object(X.a)({},e),{},{page:"plus"===t.payload?e.page+1:"plus"!==t.payload&&1!==e.page?e.page-1:1,isLoaded:!1});default:return e}},fe={isAuth:!1,isAdmin:!1,error:null},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_AUTH":return Object(X.a)(Object(X.a)({},e),{},{isAdmin:t.payload,isAuth:!0});case"SET_UN_AUTH":return Object(X.a)(Object(X.a)({},e),{},{isAuth:!1,isAdmin:!1,erorr:null});case"SET_AUTH_ERROR":return Object(X.a)(Object(X.a)({},e),{},{error:t.payload});default:return e}},xe={error:{}},ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ERROR":case"SET_ERROR_CLEAR":return Object(X.a)(Object(X.a)({},e),{},{error:t.payload});default:return e}},_e=Object(de.b)({blogReducer:pe,userReducer:Oe,errorReducer:ve}),me=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||de.c,ge=Object(de.d)(_e,me(Object(de.a)(je.a)));a(104);i.a.render(Object(R.jsx)(j.a,{store:ge,children:Object(R.jsx)(E.a,{basename:"diplom-front",children:Object(R.jsx)(ue,{})})}),document.getElementById("root"))},43:function(e,t,a){},54:function(e,t,a){e.exports={select:"filter_select__1bJVD"}},55:function(e,t,a){e.exports={input:"searchbar_input__3sD32"}},88:function(e,t,a){},89:function(e,t,a){},94:function(e,t,a){},95:function(e,t,a){},96:function(e,t,a){},97:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[105,1,2]]]);
//# sourceMappingURL=main.32bf7932.chunk.js.map